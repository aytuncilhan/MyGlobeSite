<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Aytunc Ilhan</title>

    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/themes/light/main.css" />

    <script src="https://js.arcgis.com/4.17/"></script>
    <script>
      require(["esri/Map", "esri/layers/GeoJSONLayer", "esri/geometry/Point", "esri/views/SceneView"], function(Map, GeoJSONLayer, Point, SceneView) {
        const offset = 300000; // offset from the ground used for the clouds
        var map = new Map({
          basemap: "satellite",
          ground: "world-elevation"
        });
        var view = new SceneView({
          container: "viewDiv", // Reference to the scene div created in step 5
          map: map, // Reference to the map object created before the scene
          scale: 50000000, // Sets the initial scale to 1:50,000,000
          center: [14, 42], // Sets the center point of view with lon/lat

          popup: { //To display the pop-up
            dockEnabled: true,
            dockOptions: {
                position: "top-right",
                breakpoint: false,
                buttonEnabled: false
           },
          collapseEnabled: false
          },
          highlightOptions: {
            color: [255, 255, 255],
            haloOpacity: 0.5
          }
        });

        const extremesLayer = new GeoJSONLayer({
         url: "/Users/aytuncilhan/Documents/GitHub/GlobeProject/extreme-points.geojson",
         elevationInfo: {
           mode: "absolute-height",
           offset: offset
         },
         renderer: {
           type: "simple",
           symbol: {
             type: "point-3d",
             symbolLayers: [{
               type: "icon",
               resource: { primitive: "circle" },
               material: { color: [0, 0, 0, 0] },
               outline: { color: [245, 99, 66, 1], size: 4 },
               size: 10
             }, {
               type: "icon",
               resource: { primitive: "circle" },
               material: { color: [0, 0, 0, 0] },
               outline: { color: [245, 99, 66, 1], size: 2 },
               size: 30
             }]
           }
         },
         popupTemplate: {
           title: "{name}",
           content: `
             <div class="popupImage">
               <img src="{imageUrl}" alt="{imageCaption}"/>
             </div>
             <div class="popupImageCaption">{imageCaption}</div>
             <div class="popupDescription">
               <p class="info">
                 <span class="esri-icon-favorites"></span> {type}
               </p>
               <p class="info">
                 <span class="esri-icon-map-pin"></span> {location}
               </p>
               <p class="info">
                 <span class="esri-icon-documentation"></span> {facts}
               </p>
             </div>
             <div class="popupCredits">
               Sources: <a href="{sourceUrl}" target="_blank">{source}</a> released under <a href="{sourceCopyrightUrl}">{sourceCopyright}</a>, <a href="{imageCopyrightUrl}" target="_blank">{imageCopyright}</a>.
             </div>
           `
         }
       });

        map.layers.add(extremesLayer);

      });
    </script>
  </head>

  <body>
    <h1>Welcome to my personal website.</h1>
    <div id="viewDiv"></div>
  </body>
</html>